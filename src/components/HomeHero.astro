---
import { type HeroSection } from 'types';
import WaveClip from '@components/WaveClip.astro';

interface Props extends HeroSection {
    'data-sb-field-path'?: string;
}

const { heading, body, cta, backgroundImage, ...rest } = Astro.props;
---

<div {...rest} class='hero md:min-h-[100vh] relative overflow-hidden'>
    <!-- Desktop Background with Wave Clip -->
    <WaveClip side='bottom' class='absolute inset-0 -z-20 hidden lg:block'>
        <div class="w-full h-[100vh] bg-[url('/Images/Courier_back.webp')] bg-cover bg-[center_60%] bg-no-repeat opacity-90"></div>
        <!-- Dynamic gradient overlay with primary/secondary colors -->
        <div class='absolute inset-0 bg-gradient-to-br from-primary/60 via-primary/40 to-secondary/50'></div>
        <!-- Animated overlay for extra pop -->
        <div class='absolute inset-0 bg-gradient-to-tr from-secondary/30 via-transparent to-primary/30 opacity-80'></div>
        <!-- Subtle texture overlay -->
        <div class='absolute inset-0 bg-white/10'></div>
    </WaveClip>

    <div class='hero-content text-center w-full relative z-10 pt-6 md:pt-12 pb-12 md:pb-24'>
        <div class='max-w-4xl mx-auto px-4'>
            <!-- Professional Medical Courier Hero -->
            <div class='relative'>
                <!-- Mobile Gradient Mesh Background -->
                <div class='absolute inset-0 -z-20 lg:hidden gradient-mesh-mobile'></div>
                <!-- Main Brand Card -->
                <div
                    class='relative bg-white/75 backdrop-blur-md rounded-xl md:rounded-2xl border-2 border-white/50 hover:border-primary/40 hover:bg-white/85 transition-all duration-500 p-6 md:p-8 lg:p-12 animate-fade-in-up shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_16px_48px_rgb(0,0,0,0.16)] overflow-hidden'
                    style='animation-delay: 0.2s;'
                >
                    <!-- Subtle Banner Background Texture -->
                    <div class='absolute inset-0 pointer-events-none'>
                        <div
                            class='absolute inset-0'
                            style='background-image: url("/Banner/TRIUS_BANNER.webp"); background-size: cover; background-repeat: no-repeat; background-position: center; filter: grayscale(100%); opacity: 0.05;'
                        >
                        </div>
                    </div>

                    <!-- Subtle gradient overlay for depth -->
                    <div class='absolute inset-0 bg-gradient-to-br from-primary/[0.02] via-transparent to-secondary/[0.02] pointer-events-none'></div>

                    <!-- Top accent line -->
                    <div class='absolute top-0 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-transparent via-primary/30 to-transparent pointer-events-none'></div>

                    <!-- Integrated Logo Lockup -->
                    <div class='text-center space-y-4 md:space-y-8 mb-8 md:mb-12 relative z-10'>
                        <!-- Cohesive Logo System -->
                        <div
                            class='flex items-center justify-center gap-3 md:gap-6 lg:gap-8 animate-fade-in-up'
                            style='animation-delay: 0.3s;'
                        >
                            <!-- Courier Icon - Properly Scaled and Aligned -->
                            <div class='logo-icon relative -mr-2 md:-mr-4 group/logo'>
                                <img
                                    src='/logos/Trius_Logo.svg'
                                    alt='Trius Medical Courier'
                                    class='h-20 md:h-32 lg:h-40 w-auto transition-all duration-500 hover:scale-110 hover:rotate-2 drop-shadow-lg group-hover/logo:drop-shadow-2xl'
                                    style='image-rendering: crisp-edges; image-rendering: -webkit-optimize-contrast;'
                                />
                                <!-- Logo Glow Effect -->
                                <div
                                    class='absolute inset-0 bg-gradient-to-r from-primary/30 to-secondary/30 rounded-full blur-xl opacity-0 group-hover/logo:opacity-60 transition-opacity duration-500'
                                >
                                </div>
                            </div>

                            <!-- Primary Wordmark -->
                            <h1
                                class='text-5xl md:text-7xl mt-1 md:mt-3 -ml-1 lg:text-9xl font-black text-primary leading-none font-brand cursor-default relative animate-letter-spacing'
                            >
                                <span class='relative inline-block'>
                                    TRIUS
                                    <!-- Refined underline accent - shorter and more subtle -->
                                    <span
                                        class='absolute -bottom-2 md:-bottom-3 left-[15%] right-[15%] h-0.5 md:h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent rounded-full'
                                    >
                                    </span>
                                </span>
                            </h1>
                        </div>

                        <!-- Supporting Tagline -->
                        <p
                            class='text-base md:text-xl lg:text-2xl font-medium text-slate-600 tracking-wide animate-fade-in-up relative'
                            style='animation-delay: 0.5s;'
                        >
                            <span class='inline-block px-3 py-1 rounded-full bg-gradient-to-r from-primary/5 via-transparent to-secondary/5'>
                                Specialized Medical Courier Services
                            </span>
                        </p>

                        <!-- Healthcare Promise -->
                        <p
                            class='text-sm md:text-lg lg:text-xl text-slate-700 leading-relaxed max-w-3xl mx-auto animate-fade-in-up'
                            style='animation-delay: 0.7s;'
                        >
                            Fast, reliable, and HIPAA-compliant medical deliveries across the Pacific Northwest
                        </p>
                    </div>

                    <!-- Streamlined CTA Section -->
                    <div class='text-center space-y-4 md:space-y-8 animate-fade-in-up relative z-10' style='animation-delay: 0.9s;'>
                        <!-- Primary Action -->
                        <div class='flex flex-col sm:flex-row items-center justify-center gap-3 md:gap-4'>
                            <a
                                href='/contact'
                                aria-label='Schedule a medical courier pickup'
                                class='btn-primary btn-neumorphic bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary text-white font-bold text-base md:text-xl px-6 md:px-10 py-3 md:py-5 rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full sm:w-auto sm:min-w-[200px] md:min-w-[240px] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary/50 relative overflow-hidden group'
                            >
                                <span class='relative z-10'>Schedule a Pickup</span>
                                <!-- Subtle shine effect -->
                                <span class='absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700'></span>
                            </a>
                            <a
                                href='/contact'
                                aria-label='Request a quote for medical courier services'
                                class='btn-ghost text-primary hover:text-primary-dark font-medium text-base md:text-lg px-6 md:px-8 py-3 md:py-5 rounded-2xl border border-primary/30 hover:border-primary/50 hover:bg-primary/10 transition-all duration-300 w-full sm:w-auto focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary/30'
                            >
                                Request Quote
                            </a>
                        </div>

                        <!-- Trust & Benefits Section -->
                        <div class='space-y-3 md:space-y-4 pt-4 md:pt-6'>
                            <!-- Trust Indicators -->
                            <div class='flex flex-wrap justify-center gap-2 md:gap-4 lg:gap-6'>
                                <span
                                    class='inline-flex items-center gap-1.5 md:gap-2 px-2.5 md:px-4 py-1.5 md:py-2 bg-gradient-to-br from-primary/10 to-primary/5 text-primary font-bold text-xs md:text-sm rounded-lg border border-primary/20 shadow-sm'
                                >
                                    <svg class='w-3 h-3 md:w-4 md:h-4' fill='currentColor' viewBox='0 0 24 24'>
                                        <path
                                            d='M21,11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1L21,5V11M12,7C10.9,7 10,7.9 10,9S10.9,11 12,11S14,10.1 14,9S13.1,7 12,7M18,11C18,14.88 15.64,18.36 12,19.74C8.36,18.36 6,14.88 6,11V6.3L12,3.19L18,6.3V11M12,13C10.67,13 8.33,13.67 8.33,15V16.67H15.67V15C15.67,13.67 13.33,13 12,13Z'
                                        >
                                        </path>
                                    </svg>
                                    HIPAA COMPLIANT
                                </span>
                                <span
                                    class='inline-flex items-center gap-1.5 md:gap-2 px-2.5 md:px-4 py-1.5 md:py-2 bg-gradient-to-br from-secondary/10 to-secondary/5 text-secondary font-bold text-xs md:text-sm rounded-lg border border-secondary/20 shadow-sm'
                                >
                                    <svg class='w-3 h-3 md:w-4 md:h-4' fill='currentColor' viewBox='0 0 24 24'>
                                        <path
                                            d='M12,2C13.1,2 14,2.9 14,4C14,5.1 13.1,6 12,6C10.9,6 10,5.1 10,4C10,2.9 10.9,2 12,2M21,9V7L15,5.5V6.5L21,8V22H3V8L9,6.5V5.5L3,7V9H21M12,8A3,3 0 0,1 15,11C15,13 12,17 12,17S9,13 9,11A3,3 0 0,1 12,8M12,9.5A1.5,1.5 0 0,0 10.5,11A1.5,1.5 0 0,0 12,12.5A1.5,1.5 0 0,0 13.5,11A1.5,1.5 0 0,0 12,9.5Z'
                                        >
                                        </path>
                                    </svg>
                                    OSHA CERTIFIED
                                </span>
                                <span
                                    class='inline-flex items-center gap-1.5 md:gap-2 px-2.5 md:px-4 py-1.5 md:py-2 bg-gradient-to-br from-accent/10 to-accent/5 text-accent font-bold text-xs md:text-sm rounded-lg border border-accent/20 shadow-sm'
                                >
                                    <svg class='w-3 h-3 md:w-4 md:h-4' fill='currentColor' viewBox='0 0 24 24'>
                                        <path
                                            d='M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z'
                                        >
                                        </path>
                                    </svg>
                                    24/7 AVAILABLE
                                </span>
                            </div>

                            <!-- Service Benefits -->
                            <div class='flex flex-wrap justify-center gap-2 md:gap-4 text-xs md:text-sm text-neutral font-medium'>
                                <span class='flex items-center gap-1'>
                                    <svg class='w-3 h-3 md:w-4 md:h-4 text-primary' fill='currentColor' viewBox='0 0 20 20'>
                                        <path
                                            fill-rule='evenodd'
                                            d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z'
                                            clip-rule='evenodd'
                                        >
                                        </path>
                                    </svg>
                                    No setup fees
                                </span>
                                <span class='flex items-center gap-1'>
                                    <svg class='w-3 h-3 md:w-4 md:h-4 text-primary' fill='currentColor' viewBox='0 0 20 20'>
                                        <path
                                            fill-rule='evenodd'
                                            d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z'
                                            clip-rule='evenodd'
                                        >
                                        </path>
                                    </svg>
                                    Instant quotes
                                </span>
                                <span class='flex items-center gap-1'>
                                    <svg class='w-3 h-3 md:w-4 md:h-4 text-primary' fill='currentColor' viewBox='0 0 20 20'>
                                        <path
                                            fill-rule='evenodd'
                                            d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z'
                                            clip-rule='evenodd'
                                        >
                                        </path>
                                    </svg>
                                    24/7 emergency service
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Legal Notice -->
                    <div class='text-center mt-8 md:mt-12 pt-6 md:pt-8 relative z-10'>
                        <div class='relative'>
                            <div class='absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-slate-300/50 to-transparent'></div>
                            <p class='text-xs md:text-sm text-slate-500 relative inline-flex items-center gap-2 mt-6 md:mt-8'>
                                <span class='w-12 h-px bg-gradient-to-r from-transparent to-slate-300/60'></span>
                                Trius LLC • Licensed Medical Courier Services
                                <span class='w-12 h-px bg-gradient-to-l from-transparent to-slate-300/60'></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Hero Background Pattern */
    .hero-bg-pattern {
        background-image:
            radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 75% 75%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
            linear-gradient(135deg, transparent 0%, rgba(147, 51, 234, 0.05) 50%, transparent 100%);
        width: 100%;
        height: 100%;
    }

    @keyframes fade-in-up {
        0% {
            opacity: 0;
            transform: translateY(30px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fade-in {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    @keyframes pulse-glow {
        0%,
        100% {
            opacity: 0.4;
            transform: scale(1);
        }
        50% {
            opacity: 0.8;
            transform: scale(1.05);
        }
    }

    @keyframes float {
        0%,
        100% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-20px);
        }
    }

    @keyframes spin-slow {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    /* New Enhanced Animations */

    @keyframes spin-very-slow {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    @keyframes pulse-subtle {
        0%,
        100% {
            opacity: 0.1;
            transform: scale(1);
        }
        50% {
            opacity: 0.3;
            transform: scale(1.1);
        }
    }

    @keyframes text-shimmer {
        0% {
            background-position: -200% center;
        }
        100% {
            background-position: 200% center;
        }
    }

    /* Floating Icons Animation */
    @keyframes float-1 {
        0%,
        100% {
            transform: translateY(0px) rotate(0deg);
        }
        25% {
            transform: translateY(-10px) rotate(2deg);
        }
        50% {
            transform: translateY(-5px) rotate(-1deg);
        }
        75% {
            transform: translateY(-15px) rotate(1deg);
        }
    }

    @keyframes float-2 {
        0%,
        100% {
            transform: translateY(0px) rotate(0deg);
        }
        33% {
            transform: translateY(-8px) rotate(-2deg);
        }
        66% {
            transform: translateY(-12px) rotate(1deg);
        }
    }

    @keyframes float-3 {
        0%,
        100% {
            transform: translateY(0px) rotate(0deg);
        }
        40% {
            transform: translateY(-6px) rotate(1.5deg);
        }
        80% {
            transform: translateY(-10px) rotate(-1deg);
        }
    }

    @keyframes float-4 {
        0%,
        100% {
            transform: translateY(0px) rotate(0deg);
        }
        50% {
            transform: translateY(-7px) rotate(-1.5deg);
        }
    }

    /* Gradient Button Animations */
    @keyframes gradient-x {
        0%,
        100% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
    }

    @keyframes gradient-shift {
        0% {
            background: linear-gradient(45deg, rgba(47, 133, 90, 0.3), transparent, rgba(26, 78, 138, 0.3));
        }
        33% {
            background: linear-gradient(135deg, rgba(26, 78, 138, 0.4), transparent, rgba(47, 133, 90, 0.2));
        }
        66% {
            background: linear-gradient(225deg, rgba(47, 133, 90, 0.2), transparent, rgba(26, 78, 138, 0.4));
        }
        100% {
            background: linear-gradient(45deg, rgba(47, 133, 90, 0.3), transparent, rgba(26, 78, 138, 0.3));
        }
    }

    @keyframes shimmer-slide {
        0% {
            transform: translateX(-100%);
        }
        100% {
            transform: translateX(100%);
        }
    }

    @keyframes subtle-pulse {
        0%,
        100% {
            opacity: 0.3;
        }
        50% {
            opacity: 0.5;
        }
    }

    /* Apply animations */

    .animate-fade-in-up {
        opacity: 0;
        animation: fade-in-up 1s ease-out forwards;
    }

    .animate-fade-in {
        opacity: 0;
        animation: fade-in 1s ease-out forwards;
    }

    .animate-pulse-glow {
        animation: pulse-glow 3s ease-in-out infinite;
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }

    .animate-spin-slow {
        animation: spin-slow 20s linear infinite;
    }

    /* New Enhanced Animation Classes */
    .animate-spin-very-slow {
        animation: spin-very-slow 30s linear infinite;
    }

    .animate-pulse-subtle {
        animation: pulse-subtle 4s ease-in-out infinite;
    }

    .animate-text-shimmer {
        background-size: 200% auto;
        animation: text-shimmer 3s ease-in-out infinite;
    }

    /* Floating Icon Classes */
    .floating-icon-1 {
        animation: float-1 6s ease-in-out infinite;
    }

    .floating-icon-2 {
        animation: float-2 8s ease-in-out infinite;
    }

    .floating-icon-3 {
        animation: float-3 7s ease-in-out infinite;
    }

    .floating-icon-4 {
        animation: float-4 9s ease-in-out infinite;
    }

    /* Gradient Button Animation Classes */
    .animate-gradient-x {
        background-size: 200% 200%;
        animation: gradient-x 2s ease infinite;
    }

    .animate-gradient-shift {
        animation: gradient-shift 8s ease-in-out infinite;
        transition: opacity 0.3s ease;
    }

    .animate-shimmer-slide {
        animation: shimmer-slide 1.5s ease-in-out;
    }

    /* Letter Spacing Animation */
    @keyframes letter-spacing-expand {
        0% {
            letter-spacing: -0.02em;
        }
        100% {
            letter-spacing: -0.025em;
        }
    }

    .animate-letter-spacing {
        animation: letter-spacing-expand 800ms ease-out forwards;
    }

    /* Gradient Mesh Background - Modern organic gradients */
    .gradient-mesh-mobile {
        background:
            radial-gradient(ellipse at 20% 30%, rgba(47, 133, 90, 0.35) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 70%, rgba(26, 78, 138, 0.35) 0%, transparent 50%),
            radial-gradient(ellipse at 50% 50%, rgba(47, 133, 90, 0.25) 0%, transparent 60%),
            linear-gradient(135deg, rgba(26, 78, 138, 0.3) 0%, rgba(47, 133, 90, 0.3) 100%);
    }

    /* Neumorphic Button Effect */
    .btn-neumorphic {
        box-shadow:
            inset 0 1px 2px rgba(255, 255, 255, 0.2),
            inset 0 -1px 2px rgba(0, 0, 0, 0.1),
            0 8px 16px rgba(0, 0, 0, 0.15);
    }

    .btn-neumorphic:hover {
        box-shadow:
            inset 0 1px 2px rgba(255, 255, 255, 0.25),
            inset 0 -1px 2px rgba(0, 0, 0, 0.15),
            0 12px 24px rgba(0, 0, 0, 0.2);
    }

    /* Trust Badge Enhancements */
    .trust-badge {
        position: relative;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .trust-badge::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 2px;
        background: linear-gradient(45deg, rgba(255, 255, 255, 0.3), transparent, rgba(255, 255, 255, 0.3));
        mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        mask-composite: xor;
        -webkit-mask-composite: xor;
        pointer-events: none;
    }

    /* CTA Button Enhancements */
    .btn-hero-primary {
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .btn-hero-primary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.6s;
    }

    .btn-hero-primary:hover::before {
        left: 100%;
    }

    .btn-hero-secondary {
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
    }

    .btn-hero-secondary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
        transition: left 0.6s;
    }

    .btn-hero-secondary:hover::before {
        left: 100%;
    }

    /* Banner background pattern - scaled for visibility */

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .trust-badge {
            padding: 1rem 1.5rem;
            font-size: 0.9rem;
        }

        .btn-hero-primary,
        .btn-hero-secondary {
            min-width: 240px;
            padding: 1.25rem 2rem;
            font-size: 1.1rem;
        }
    }

    /* Smooth scroll behavior */
    html {
        scroll-behavior: smooth;
    }

    /* Parallax Effect */
    .parallax-bg {
        transform: translateZ(0);
        will-change: transform;
        transition: transform 0.1s ease-out;
    }

    /* Reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {
        .animate-pulse-glow {
            animation: none;
        }

        .animate-fade-in-up,
        .animate-fade-in {
            opacity: 1;
            transform: none;
            animation: none;
        }

        .animate-letter-spacing {
            animation: none;
            letter-spacing: -0.025em;
        }

        .parallax-bg {
            transform: none !important;
        }
    }
</style>

<script>
    // Parallax effect for hero background and wavy border
    document.addEventListener('DOMContentLoaded', function () {
        const parallaxElements = document.querySelectorAll('.parallax-bg');

        if (parallaxElements.length > 0) {
            let ticking = false;

            function updateParallax() {
                const scrolled = window.pageYOffset;
                const speed = 0.2; // Very subtle parallax speed

                parallaxElements.forEach((element) => {
                    const parallax = element.getBoundingClientRect().top + scrolled;

                    // Only apply parallax when the element is in viewport
                    if (parallax < window.innerHeight && scrolled < window.innerHeight) {
                        const yPos = -(scrolled * speed);
                        (element as HTMLElement).style.transform = `translate3d(0, ${yPos}px, 0)`;
                    }
                });

                ticking = false;
            }

            function requestTick() {
                if (!ticking && !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                    requestAnimationFrame(updateParallax);
                    ticking = true;
                }
            }

            // Add scroll listener with throttling
            window.addEventListener('scroll', requestTick, { passive: true });

            // Initialize parallax on load
            requestTick();

            // Clean up listener when component unmounts
            return () => {
                window.removeEventListener('scroll', requestTick);
            };
        }
    });
</script>

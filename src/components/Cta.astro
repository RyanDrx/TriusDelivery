---
import { marked } from 'marked';
import { type CtaSection } from 'types';
import Action from '@components/Action.astro';
import Section from '@components/Section.astro';

interface Props extends CtaSection {
    'data-sb-field-path'?: string;
}

const { heading, body, cta, ...rest } = Astro.props;
---

<Section {...rest} class="bg-gradient-to-br from-primary/10 to-secondary/10 border-t border-base-300">
    <div class="text-center max-w-4xl mx-auto">
        {
            heading && (
                <h2 class="text-4xl lg:text-5xl font-black font-heading text-primary mb-6" data-sb-field-path=".heading">
                    {heading}
                </h2>
            )
        }
        {body && (
            <div class="text-xl text-base-content/70 max-w-3xl mx-auto mb-10 font-body leading-relaxed" data-sb-field-path=".body" set:html={marked.parse(body)} />
        )}
        
        {
            cta && cta.length > 0 && (
                <div class="flex flex-wrap items-center justify-center gap-6 mb-12" data-sb-field-path=".cta">
                    {cta.map((item, index) => (
                        <Action 
                            action={item} 
                            class:list={[
                                item._type === 'actionButton' && (item as any).theme === 'primary' 
                                    ? 'btn btn-primary btn-lg px-10 py-4 text-lg font-semibold shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300'
                                    : item._type === 'actionLink' 
                                    ? 'btn btn-outline btn-secondary btn-lg px-10 py-4 text-lg font-semibold hover:btn-secondary transition-all duration-300'
                                    : 'font-bold underline hover:no-underline text-lg'
                            ]} 
                            data-sb-field-path={`.${index}`} 
                        />
                    ))}
                </div>
            )
        }

        <!-- Trust and Compliance Section -->
        <div class="bg-white rounded-2xl p-8 shadow-lg border border-base-300 max-w-4xl mx-auto">
            <div class="grid md:grid-cols-3 gap-8 text-center">
                <!-- HIPAA Compliance -->
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center mb-4 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-black font-heading text-primary mb-2">HIPAA Compliant</h3>
                    <p class="text-sm text-base-content/60 font-body">Full patient privacy protection and secure handling protocols</p>
                </div>

                <!-- OSHA Certified -->
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 bg-gradient-to-br from-secondary to-secondary/80 rounded-2xl flex items-center justify-center mb-4 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-black font-heading text-secondary mb-2">OSHA Certified</h3>
                    <p class="text-sm text-base-content/60 font-body">Safety-trained couriers with biohazard handling expertise</p>
                </div>

                <!-- 24/7 Service -->
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 bg-gradient-to-br from-accent to-accent/80 rounded-2xl flex items-center justify-center mb-4 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-black font-heading text-accent mb-2">24/7 Available</h3>
                    <p class="text-sm text-base-content/60 font-body">Round-the-clock emergency and STAT delivery services</p>
                </div>
            </div>

            <!-- Guarantee Statement -->
            <div class="mt-8 pt-6 border-t border-base-300">
                <div class="flex items-center justify-center gap-3 text-primary font-semibold">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                    <span class="text-lg font-heading">24-Hour Response Guarantee</span>
                </div>
                <p class="text-sm text-base-content/60 mt-2 font-body">We guarantee a response to all quote requests within 24 hours, with same-day service available for emergency deliveries.</p>
            </div>
        </div>
    </div>
</Section>
